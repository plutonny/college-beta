<!DOCTYPE html>
<html lang="ru">
    <head>
        <meta                                       charset="UTF-8">
        <meta   http-equiv="Permissions-Policy"     content="interest-cohort=()">
        <meta   name="viewport"                     content="width=device-width, initial-scale=1.0">
        <meta   name="author"                       content="Plutonny">
        <meta   name="keywords"                     content="КСК-11, кск, кск 11, акт кск, акт">
        <meta   name="description"                  content="Расписание, КСК-11">
        <meta   name="theme-color" id="theme-color" content="#202020">

        <title  id="csc11-title-of-page"            >Расписание, КСК-11</title>
        <link   rel="preload prefetch" as="font"    href="/assets/fonts/n2.woff2" type="font/woff2" crossorigin="anonymous">
        <link   rel="preload prefetch" as="font"    href="/assets/fonts/m2.woff2" type="font/woff2" crossorigin="anonymous">
        <link   rel="manifest"                      href="/college-beta/manifest.json">
        <script type="text/javascript"              src="/assets/solar.js"></script>
        <script type="text/javascript"              src="/assets/luxon.js"></script>

        <link   rel="icon"                          href="/college-beta/csc11-favicon.png">
        <link   rel="preload prefetch stylesheet"   href="/assets/beta/main.css" as="style">
        
        <script> var thisPageBuild = 60; </script>
        
        <style  id="root-colors-theme"></style>

        <script type="text/javascript"              src="/assets/beta/debug.js"></script>
        <script type="text/javascript"              src="/assets/beta/storage.js"></script>
        <script type="text/javascript"              src="/assets/beta/timetable.js"></script>

        <noscript>
            <style>
                html, body { background-color: #202020; }
                p, a       { color: #f4f4f4; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; font-size: 28px; text-align: center; }
                div        { margin-top: 64px; }
            </style>
            <div>
                <p>Если ты читаешь этот текст, то у тебя отключен или не поддерживается браузером JavaScript</p>
                <p>Функционал данного сайта недоступен, можете перейти на <a href="/college/simpleoutjs.html">упрощенную страницу</a></p>
            </div>
        </noscript>
    </head>
    <body>
        <div class="modal" id="modal"></div>
        <div class="header" id="header"></div>
        <div class="navbar" id="navbar"></div>
        <div class="greeting" id="greeting"></div>
        <div class="content" id="content"></div>
        
        <script>
            var URL = '', inj = ''
            try {
                var URL = document.location.href.split('?')[1].split('=')[1]
            } catch (e) {
                logs('error', `Error: gtable page get URL (${e})`)
            }

            if (URL == 'week') {
                header(`Расписание на неделю`, false, true)
                navbar('home')
                output('greeting', `
                <style>
                    .content { padding: 12px 24px 73px 24px !important; }
                    .greeting { margin-bottom: 8px; width: 100%; display: flex; flex-direction: row; flex-wrap: nowrap; justify-content: space-evenly; }
                </style>
                <style id="timetableCSS"></style>
                <button class="timetableWorkButton1" style="font-family: 'Montserrat'; width: 11%; height: 56px; border: none; border-radius: 16px;" onclick="timetableWeekDayChanger(1)">ПН</button>
                <button class="timetableWorkButton2" style="font-family: 'Montserrat'; width: 11%; height: 56px; border: none; border-radius: 16px;" onclick="timetableWeekDayChanger(2)">ВТ</button>
                <button class="timetableWorkButton3" style="font-family: 'Montserrat'; width: 11%; height: 56px; border: none; border-radius: 16px;" onclick="timetableWeekDayChanger(3)">СР</button>
                <button class="timetableWorkButton4" style="font-family: 'Montserrat'; width: 11%; height: 56px; border: none; border-radius: 16px;" onclick="timetableWeekDayChanger(4)">ЧТ</button>
                <button class="timetableWorkButton5" style="font-family: 'Montserrat'; width: 11%; height: 56px; border: none; border-radius: 16px;" onclick="timetableWeekDayChanger(5)">ПТ</button>
                <button class="timetableWorkButton6" style="font-family: 'Montserrat'; width: 11%; height: 56px; border: none; border-radius: 16px;" onclick="timetableWeekDayChanger(6)">СБ</button>
                `)
                inj += `
                ${pairTableHTML()}
                <div style="display: flex; justify-content: center;">
                    <button style="margin: 24px 0px; font-family: 'Montserrat' !important; cursor: pointer; border: none; border-radius: 16px; height: 42px; font-size: 20px; width: 100%;" onclick="location.assign('/college${betaRepos}/timetable/?q=alerts')">Расписание звонков</button>
                </div>
                `
                timetableWeekDayChanger(CURRDATE.getDay())
            } else if (URL == 'alerts') {
                header(`Расписание звонков`, false, true)
                navbar('home')
                inj += `<div>
                    <p style="text-align: center;"><b>1-я пара:</b> 8:30-9:15, 9:20-10:05</p>
                    <p style="text-align: center;"><b>2-я пара:</b> 10:15-11:00, 11:05-11:50</p>
                    <p style="text-align: center;"><b>большой перерыв:</b> 11:50-12:35</p>
                    <p style="text-align: center;"><b>3-я пара:</b> 12:35-13:20, 13:25-14:10</p>
                    <p style="text-align: center;"><b>4-я пара:</b> 14:20-15:05, 15:10-15:55</p>
                    <p style="text-align: center;"><b>5-я пара:</b> 16:05-16:50, 16:55-17:40</p>
                </div>
                <div style="display: flex; justify-content: center;">
                    <button style="margin: 24px 0px; font-family: 'Montserrat' !important; cursor: pointer; border: none; border-radius: 16px; height: 42px; font-size: 20px; width: 100%;" onclick="location.assign('/college${betaRepos}/timetable/?q=week')">Расписание на неделю</button>
                </div>`
            } else {
                logs('critical', 'Error: timetable page cant find current response')
            }
            
            

            output('content', `
                <style>
                    .content { background-color: var(--secondary-bg-color); border-top-left-radius: 24px; border-top-right-radius: 24px; padding: 24px 24px 73px 24px; min-height: calc(100vh - 100px); }
                </style>
                ${inj}
            `)
        </script>

        <script src="//cdn.jsdelivr.net/npm/eruda"></script>
        <script>
            if (BETA) { eruda.init() }
        </script>

        <script>
            outBetaNotes()
            deviceStorage('write', 'timetableBuildPage', thisPageBuild)
        </script>
    </body>
</html>